@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap');

@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans: 'Montserrat', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
}

/* Configurazione tema personalizzato */
@layer base{
    :root{
        /* Colori brand come variabili CSS */
        --color-molisana-blue: 0, 45, 117; /* RGB format for rgba() */
        --color-molisana-red: 178, 40, 47;
        --color-molisana-dark-orange: 151, 60, 0;
        --color-molisana-orange: 225, 113, 0;
        --color-molisana-orange-hover: 187, 77, 0;

        /* Transizioni */
        --transition-default: all 0.3s ease-in-out;
    }

    *,
    *::before,
    *::after{
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    html {
    scroll-behavior: smooth;
    }

    body{
        /* font-family: var(--font-sans); */
        font-family: 'Montserrat', ui-sans-serif, system-ui, sans-serif;
        @apply antialiased text-gray-900 bg-neutral-50;
        line-height: 1.6;
    }
    /* Ottimizzazione immagini */
    img {
        @apply max-w-full h-auto block;
    }
    /* Previene distorsione */
    img[width] {
        @apply w-auto;
    }
    img[width][height] {
        aspect-ratio: attr(width) / attr(height);
    }
}

/* Componenti personalizzati */
@layer components {
    /* Loader */
    .page_loader {
        @apply fixed inset-0 w-full h-full bg-white flex justify-center items-center z-[9999];
        transition: opacity 0.5s ease, visibility 0.5s ease;
        will-change: opacity, visibility;
        backdrop-filter: blur(2px);
    }
    .page_loader.hidden {
        @apply opacity-0 invisible;
    }

    .loader {
        @apply w-12 h-12 border-[5px] border-gray-100 rounded-full;
        border-top-color: rgb(var(--color-molisana-blue)); /* Usa variabile CSS */
        animation: spin 1s linear infinite;
        will-change: transform;
    }
    /* Classe per testo accessibile ma nascosto visivamente */
    .sr-only {
        @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
        clip: rect(0, 0, 0, 0);
    }

    /* Arrow Up */
    .arrow_up {
        @apply fixed bottom-8 right-8 w-12 h-12 rounded-full flex justify-center items-center cursor-pointer;
        @apply opacity-0 invisible transition-all duration-300 ease-in-out z-[99];
        background-color: rgba(var(--color-molisana-blue), 0.9);
        color: white;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
        will-change: transform, opacity;
    }

    .arrow_up.visible {
        @apply opacity-100 visible;
    }

    .arrow_up:hover {
        @apply -translate-y-1;
         background-color: rgba(var(--color-molisana-dark-orange), 1);
    }

    /* Icona freccia */
    .arrow_up i {
        @apply transition-transform duration-200 ease-in-out;
    }

    .arrow_up:hover i {
        transform: translateY(-2px);
    }

    /* Stile base per i link del menu desktop */
    .nav-link {
        position: relative;
        padding: 0.5rem 1rem;
        font-weight: 500;
        color: #002d75;
        transition: all 0.3s ease;
    }

    /* Stile hover per i link */
    .nav-link:hover {
        color: #bb4d00;
    }

    /* Stile per i link attivi */
    .nav-link-active {
        color: #bb4d00;
        font-weight: 600;
    }

    /* Animazione personalizzata per i link */
    .nav-link::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background: #bb4d00;
        transform: scaleX(0);
        transform-origin: right;
        transition: transform 0.4s cubic-bezier(0.65, 0, 0.35, 1);
    }

    /* Animazione hover */
    .nav-link:hover::after {
        transform: scaleX(1);
        transform-origin: left;
    }

    /* Animazione per link attivo */
    .nav-link-active::after {
        transform: scaleX(1);
        transform-origin: left;
        background: #bb4d00;
        height: 3px;
    }

    /* Effetto hover sul link attivo */
    .nav-link-active:hover::after {
        background: linear-gradient(
            90deg,
            #bb4d00,
            #002d75
        );
        transform: scaleX(1.1);
    }
    /* Carrello link attivo */
    .cart-link-active{
        padding-bottom: 5px;
     border-bottom: 3px solid #bb4d00;
    }

    /* Animazione principale */
    #main-header {
        transition: height 0.5s cubic-bezier(0.33, 1, 0.68, 1);
        height: 180px; /* Altezza estesa */
        will-change: height;
    }

    #main-header.shrink {
        height: 80px; /* Altezza ridotta */
    }

    /* Logo container - Gestisce l'altezza */
    #logo-container {
        will-change: height;
        height: 120px; /* Altezza logo+padding */
    }

    #main-header.shrink #logo-container {
        height: 0;
    }

    /* Logo - Gestisce solo l'opacitÃ  */
    #logo {
        will-change: opacity;
        opacity: 1;
    }

    #main-header.shrink #logo {
        opacity: 0;
    }

    /* Navbar - Padding fluido */
    nav {
        will-change: padding;
        padding-top: 1rem;
        padding-bottom: 1rem;
    }

    #main-header.shrink nav {
        padding-top: 1.8rem;
        padding-bottom: 0.5rem;
    }

    /* Header Mobile */
    @media (max-width: 767px) {
        #main-header {
            height: 60px !important; /* Altezza fissa */
            min-height: 60px;
            transition: none !important; /* Disabilita le transizioni */
        }

        /* Animazione Hamburger -> X */
        #mobile-menu-button {
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        #mobile-menu-button svg {
            width: 1.5rem;
            height: 1.5rem;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: transform 0.3s ease;
        }

        .ham-bar {
            transform-origin: center;
            transition: all 0.3s ease;
            stroke-width: 2;
            stroke-linecap: round;
        }

        /* Stato chiuso (hamburger) */
        #mobile-menu-button:not([aria-expanded="true"]) .ham-bar {
            transform: rotate(0) translateY(0) translateX(0);
            opacity: 1;
        }

        /* Stato aperto (X) */
        #mobile-menu-button[aria-expanded="true"] svg {
            transform: translate(-35%, -50%) rotate(180deg); /* Mantiene il centro */
        }

        #mobile-menu-button[aria-expanded="true"] .top-bar {
            transform: translateY(4px) rotate(45deg); /* Regolato a 5px */
        }

        #mobile-menu-button[aria-expanded="true"] .middle-bar {
            opacity: 0;
            transform: translateX(-10px); /* Ridotto da 16px a 10px */
        }

        #mobile-menu-button[aria-expanded="true"] .bottom-bar {
            transform: translateY(-4px) rotate(-45deg); /* Regolato a -5px */
        }

        #mobile-menu-button {
            border-radius: 0.375rem; /* rounded-md equivalente */
            transition: background-color 0.2s ease, transform 0.2s ease;
        }

        #mobile-menu-button:hover {
            background-color: rgba(0, 0, 0, 0.05);
            transform: scale(1.05);
        }

        #mobile-menu-button:active {
            transform: scale(0.95);
        }

        /* Mobile Menu */
        #mobile-menu {
            transform: translateY(-100%);
            transition: transform 0.3s ease;
            background: white;
            z-index: 30; /* Z-index minore dell'header */
        }

        #mobile-menu:not(.hidden) {
            transform: translateY(60px); /* Altezza dell'header */
        }
    }

    /* Filtri Prodotti */
    select {
        background-image: none; /* Rimuove la freccia di default */
        padding-right: 2.5rem;
    }

    /* Adattamenti mobile */
    @media (max-width: 767px) {
        .grid > div {
            width: 100%;
        }

        .flex.space-x-3 {
            flex-direction: column;
            gap: 0.5rem;
        }

        .flex.space-x-3 > * {
            width: 100%;
        }
    }
}

/* Utility personalizzate */
@layer utilities {
    /* Colori Molisana */
    .bg-molisana-orange { background-color: #e17100; }
    .text-molisana-orange { color: #e17100; }
    .border-molisana-orange { border-color: #e17100; }
    .focus\:ring-molisana-orange:focus { --tw-ring-color: #e17100; }

    .bg-molisana-dark-orange { background-color: #973c00; }
    .text-molisana-dark-orange { color: #973c00; }
    .border-molisana-dark-orange { border-color: #973c00; }
    .focus\:ring-molisana-dark-orange:focus { --tw-ring-color: #973c00; }

    .bg-molisana-orange-hover { background-color: #bb4d00; }
    .hover\:bg-molisana-orange-hover:hover { background-color: #bb4d00; }

    .bg-molisana-blue { background-color: #002d75; }
    .text-molisana-blue { color: #002d75; }
    .border-molisana-blue { border-color: #002d75; }

    /* Animazione pulse personalizzata */
    .animate-pulse-slow {
        animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* Per elementi accessibili ma nascosti */
    .visually-hidden {
        @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
        clip: rect(0, 0, 0, 0);
    }

    /* Animazione spin */
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* Animazione pulse */
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

     /* Animazione refresh carrello */
    .animate-refresh {
        animation: refreshFade 0.5s ease-in-out;
    }

    @keyframes refreshFade {
        0% { opacity: 0.8; transform: translateY(-5px); }
        100% { opacity: 1; transform: translateY(0); }
    }
}




